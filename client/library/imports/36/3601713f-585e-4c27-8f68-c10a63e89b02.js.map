{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\BGScaler.js"],"names":["cc","Class","extends","Component","properties","scaleMethod","start","cvs","find","getComponent","Canvas","size","view","getFrameSize","fitWidth","node","height","width","oldHeight","oldWidth"],"mappings":";;;;;;AAAA;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACAC,qBAAY;AArBJ,KAHP;;AA2BL;AACAC,SA5BK,mBA4BI;AACL;AACA;AACA;AACA,YAAIC,MAAMP,GAAGQ,IAAH,CAAQ,QAAR,EAAkBC,YAAlB,CAA+BT,GAAGU,MAAlC,CAAV;AACA,YAAIC,OAAOX,GAAGY,IAAH,CAAQC,YAAR,EAAX;AACA;AACA,YAAIR,cAAc,KAAKA,WAAvB;AACA,YAAGA,eAAe,CAAlB,EAAoB;AAChB,gBAAGE,IAAIO,QAAP,EAAgB;AACZ,qBAAKC,IAAL,CAAUC,MAAV,GAAmB,KAAKD,IAAL,CAAUE,KAAV,GAAgBN,KAAKM,KAArB,GAA6BN,KAAKK,MAArD;AACH,aAFD,MAGI;AACA,qBAAKD,IAAL,CAAUE,KAAV,GAAkB,KAAKF,IAAL,CAAUC,MAAV,GAAiBL,KAAKK,MAAtB,GAA+BL,KAAKM,KAAtD;AACH;AACJ,SAPD,MAQK,IAAGZ,eAAe,CAAlB,EAAoB;AACrB,gBAAGE,IAAIO,QAAP,EAAgB;AACZ,oBAAII,YAAY,KAAKH,IAAL,CAAUC,MAA1B;AACA,qBAAKD,IAAL,CAAUC,MAAV,GAAmB,KAAKD,IAAL,CAAUE,KAAV,GAAgBN,KAAKM,KAArB,GAA6BN,KAAKK,MAArD;AACA,qBAAKD,IAAL,CAAUE,KAAV,GAAkB,KAAKF,IAAL,CAAUC,MAAV,GAAiBE,SAAjB,GAA6B,KAAKH,IAAL,CAAUE,KAAzD;AACH,aAJD,MAKI;AACA,oBAAIE,WAAW,KAAKJ,IAAL,CAAUE,KAAzB;AACA,qBAAKF,IAAL,CAAUE,KAAV,GAAkB,KAAKF,IAAL,CAAUC,MAAV,GAAiBL,KAAKK,MAAtB,GAA+BL,KAAKM,KAAtD;AACA,qBAAKF,IAAL,CAAUC,MAAV,GAAmB,KAAKD,IAAL,CAAUE,KAAV,GAAkBE,QAAlB,GAA6B,KAAKJ,IAAL,CAAUC,MAA1D;AACH;AACJ;AACJ;AAxDI;;AA0DL;AA1DJ","file":"BGScaler.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["//背景图缩放器。用于缩放背景\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //     // ATTRIBUTES:\n        //     default: null,        // The default value will be used only when the component attaching\n        //                           // to a node for the first time\n        //     type: cc.SpriteFrame, // optional, default is typeof default\n        //     serializable: true,   // optional, default is true\n        // },\n        // bar: {\n        //     get () {\n        //         return this._bar;\n        //     },\n        //     set (value) {\n        //         this._bar = value;\n        //     }\n        // },\n\n        //适配模式\n        //\n        //\n        //\n        scaleMethod:0,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n    start () {\n        //0、居中（居中其实不需要挂这个脚本，浪费效率）\n        //1、宽高都根据高度拉伸\n        //2、长边充满\n        var cvs = cc.find('Canvas').getComponent(cc.Canvas);\n        var size = cc.view.getFrameSize();\n        //\n        var scaleMethod = this.scaleMethod;\n        if(scaleMethod == 1){\n            if(cvs.fitWidth){\n                this.node.height = this.node.width/size.width * size.height;\n            }\n            else{\n                this.node.width = this.node.height/size.height * size.width;\n            }\n        }\n        else if(scaleMethod == 2){\n            if(cvs.fitWidth){\n                var oldHeight = this.node.height;\n                this.node.height = this.node.width/size.width * size.height;\n                this.node.width = this.node.height/oldHeight * this.node.width;\n            }\n            else{\n                var oldWidth = this.node.width;\n                this.node.width = this.node.height/size.height * size.width;\n                this.node.height = this.node.width / oldWidth * this.node.height;\n            }\n        }\n    },\n\n    // update (dt) {},\n});\n"]}